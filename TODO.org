* Misc
**Bold** items necessary for a minimum viable product

- [X] **Organize .py files in a flask project**
  - Follow https://charlesleifer.com/blog/structuring-flask-apps-a-how-to-for-those-coming-from-django/

- [X] **Protect with password**
  - Stay logged in
- [X] /clients/
  - [X] Typeahead : full search (spellfix) if no results
  - [X] Postal code -> display region

- [-] Workorders
  - [X] Add/delete workorder_items
  - [X] Fix prices
  - [X] Compute/update workorder total + taxes
  - [X] Change client/set client/set direct sale
  - [X] Show workorders by generic datetime (appointment/received/...)
    - [X] Small "calendar" (lines grouped by day, with hour)
  - [ ] **Payments**
    - [ ] "Invoice" view for a completed workorder
  - [ ] **Refunds**
    - [ ] New workorder with negative number of refunded elements (ex.: -1 tire)
  - [ ] **Various Status (open, finished and paid, waiting for approval, ...)**
  - [ ] Apply membership(s) on invoice payment
  - [ ] Figure a non-wobbly way of having "on sale" bikes (status?)
  - [ ] "always_edit_line" on some workorderitems (Donation/Hour of DIY)

- [-] Items
  - [X] Rename TemplateItem as InventoryItem
  - [X] Items can be either Labour or Article
  - [-] Simple non-intrusive "inventory" field to keep count since
    last time (admin only)
    - [X] Field in InventoryItem
    - [ ] **Auto-decrement on invoice paid**
    - [ ] Admin view of inventory

- [-] Clients
  - [X] Add year of birth
  - [ ] **Credit in store (for cash deposits, and other things)**
  - [ ] Import Type/Discount category
- [ ] Reports & stats
- [ ] Config file
  - [ ] Don't hardcode taxes
    - [ ] Save taxes amount with each paid invoice
    - [ ] Configure taxes in config.py (changes rarely, but does)
- [X] Propose bike description from last Workorder for existing
  clients


- [ ] **Uniform way to manage "disabled" items**

- [X] Avoid duplicating the total computation in frontend/backend :
  +all /api/ edit calls should return infos about the total+ total
  infos are fetched through /api/total/<workorder_id>

- [-] There will be maaaaaaany products with the same name
  - [X] Search by exact SKU
  - [ ] Category buttons

- [ ] **Fix IPad display when there's a big on-screen keyboard**

- [ ] **Cash Register close**

- [ ] Reduce the number of fields during Direct sales (maybe collapse
  in an accordion?)

- [ ] New client : alert if there is already a client with the same
  phone number or name during typing

* Reports

- What's useful to know?
  - List payments per type (visa/debit/cash)
  - List of clients who consent to receive emails
  - Number of clients per region (postal code)
  - Number of sold items with filter per category + date start + date
    end

* Nice to have
- [X] flash() instead of custom notifications : https://flask.palletsprojects.com/en/2.0.x/patterns/flashing/

- [ ] Database cleanup tool
  - Merge duplicate clients
    - duplicate full name or phone
  - @ in a non-email field
  - Empty first/last names
  - Suspicious date of birth (less than 3yo or in the future)
  - Wrong postal code : if not re.search(r'^[hH]\d[a-zA-Z] ?\d[a-zA-Z]\d$', get('postal code'))

- [ ] How to handle an empty invoice?
  - Add a Quick way to delete it

- [ ] All workorders vs Older jobs confusion

- Find a clean way to add customized code extensions to avoid bulding
  custom specifications into the core
  - Membership logic
  - "Bike" labels
  - Bikes on sale
